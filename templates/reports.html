{% extends "base.html" %}
{% block title %}Recycler - Reports{% endblock %}
{% block content %}
<section class="reports-header">
    <h1>Recycling Classification Reports</h1>
    <p>Generate and download reports based on classification data.</p>
</section>

<section class="report-filters">
    <div class="filter-container">
        <label for="category-filter">Filter by Category:</label>
        <select id="category-filter">
            <option value="">All Items</option>
            <option value="Recyclable">Recyclable Items</option>
            <option value="Non-Recyclable">Non-Recyclable Items</option>
        </select>
        <button id="generate-report-btn" class="btn primary">Generate PDF Report</button>
    </div>
</section>

<section class="report-table-section">
    <div class="loading-indicator" id="loading-data">
        Loading data from Firestore...
    </div>
    <table class="reports-table">
        <thead>
        <tr>
            <th>Image Name</th>
            <th>Prediction</th>
        </tr>
        </thead>
        <tbody>
        <!-- Table will be populated by JavaScript -->
        <tr>
            <td colspan="2">Loading data...</td>
        </tr>
        </tbody>
    </table>
</section>
{% endblock %}

{% block scripts %}
<!-- Include Firebase App and Firestore from CDN -->
<script type="module" src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js"></script>
<script type="module" src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js"></script>

<!-- Include jsPDF from CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>

<!-- Our custom reports script -->
<script type="module" src="{{ url_for('static', filename='js/reports.js') }}"></script>
{% endblock %}